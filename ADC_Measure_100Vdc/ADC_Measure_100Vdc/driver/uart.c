/***********************************************************************************************************************
* DISCLAIMER
*
* Copyright (C) Corporation. All rights reserved.
***********************************************************************************************************************/

/***********************************************************************************************************************
* File Name    : uart.c
* Version      : v1.0 [08 Aug 2020]
* Device(s)    : ATtiny104-SSFR
* Tool-Chain   : GNU C99 (AVR_8_bit_GNU_Toolchain_3.6.2_1778) version 5.4.0 (avr)
* Description  : This file implements device driver for uart module.
* Creation Date: 08/08/2020
***********************************************************************************************************************/



/******************************************************************************
Includes   <System Includes> , "Project Includes"
******************************************************************************/

#include <avr/io.h>
#include <uart.h>



/******************************************************************************
Private global variables and functions
******************************************************************************/

/***********************************************************************************************************************
* Function Name: UartStart
* Description  : This function start the UART.
* Arguments    : None
* Return Value : None
***********************************************************************************************************************/
void UartStart()
{
	UBRR = _23_UART_BAUD_0;
	UCSRB |= _18_UART_RX;
	UCSRC = _00_UART_ASYNC_MODE | _00_UART_PARITY_NONE | _00_UART_STOP_BIT | _06_UART_DATA_SIZE;
}

/***********************************************************************************************************************
* Function Name: UartStop
* Description  : This function stop the UART.
* Arguments    : None
* Return Value : None
***********************************************************************************************************************/
void UartStop()
{
	UCSRB |= 0x00U;
}

/***********************************************************************************************************************
* Function Name: UartSendData
* Description  : This function send uart data.
* Arguments    : data - transfer data
* Return Value : None
***********************************************************************************************************************/
void UartSendData(uint8_t data)
{
	while( !(UCSRA & (1 << UDRE)));
	UDR = data;
}